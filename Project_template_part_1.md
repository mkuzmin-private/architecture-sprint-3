# Задание 1. Анализ и планирование

### 1. Описание функциональности монолитного приложения

**Управление отоплением:**

- Пользователи могут удаленно включать/выключать отопление;
- Пользователи могут получить информацию о том, включено ли в текущий момент у них отопление;
- Система поддерживает одновременное включение/выключение отопления и изменение желаемой температуры.

**Мониторинг температуры:**

- Пользователи могут удаленно устанавливать желаемую температуру;
- Пользователм могут удаленно просматривать текущую температуру.

### 2. Анализ архитектуры монолитного приложения

Текущее приложение реализовано на Java c использованием PostgreSQL в качестве СУБД.
Все компоненты системы находятся в рамках одного приложения. Взаимодействие между 
компонентами системы происходит синхронно, все запросы брабатываются последовательно.

### 3. Определение доменов и границы контекстов

1. Управление пользователями
2. Управление устройствами
3. Поддержка клиентов
4. Маркетинг и реклама
5. Управление платежами

### **4. Проблемы монолитного решения**

- Ограниченная масштабируемость;
- Развертывание требует остановки всего приложения;
- Проблемы с производительностью вследствие полностью синхронного взаимодействия компонентов;
- В текущей реализации у пользователей нет возможности подключить новый датчик к системе самостоятельно.

### 5. Визуализация контекста системы — диаграмма С4

```markdown
[Диаграмма](https://disk.yandex.ru/d/tj_RI0JWLXs8vA)
```

# Задание 2. Проектирование микросервисной архитектуры

В этом задании вам нужно предоставить только диаграммы в модели C4. Мы не просим вас отдельно описывать получившиеся микросервисы и то, как вы определили взаимодействия между компонентами To-Be системы. Если вы правильно подготовите диаграммы C4, они и так это покажут.

**Диаграмма контейнеров (Containers)**

```markdown
[Containers diagram](https://disk.yandex.ru/d/-bg49GGGdyg5pw)
```

**Диаграмма компонентов (Components)**

1. Микросервис взаимодействия с внешними устройствами
```markdown
[DevicesManagementService](https://disk.yandex.ru/d/RgRUIxHHy-hAtw)
```

2. Микросервис взаимодействичя с пользователями
```markdown
[UserService](https://disk.yandex.ru/d/G1rdb0y82rU9zg)
```

3. Микросервис обработки платежей
```markdown
[PaymentsService](https://disk.yandex.ru/d/ptKiu-3OAgPigw)
```

4. Микросервис взаимодействия с БД
```markdown
[DBService](https://disk.yandex.ru/d/nzEbFmxx56SlNg)
```

**Диаграмма кода (Code)**
```markdown
[Regular command flow (UML sequence)](https://disk.yandex.ru/d/LS0o_0YLMgAOUA)
```

# Задание 3. Разработка ER-диаграммы

```markdown
[ER-диаграмма](./diagrams/ER.puml)
```
